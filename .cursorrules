Project Technology Stack & Guidelines
Frontend

HTML/CSS: Multipage application with 'homepage.html' file containing information about the whole project and outlining business goals

JavaScript: Plain vanilla JavaScript (ES6+), no frameworks like React, Vue, or Angular

All user interface changes must be done through JavaScript manipulating the DOM

Use JavaScript to dynamically create, update, and remove elements

Keep the js files to a minimum and write everything as high-level understandable as possible

Styling: Bootstrap 5.x from CDN for all UI components and styling

Use Bootstrap classes extensively instead of custom CSS

Only write custom CSS when Bootstrap doesn't provide the needed functionality

For custom CSS, write it in a separate css file connected to the html page it is styling on

Bootstrap CDN: https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css (with integrity: sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH)

Bootstrap JS CDN: https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js (with integrity: sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz)

Backend

Framework: .NET API (ASP.NET Core Web API)

Language: C#

Target Framework: .NET 9.0 or latest LTS version

Architecture: RESTful API design with proper HTTP methods and status codes

Database

Type: MySQL database

Data Access: Write SQL queries directly, no ORM

File Location: Store SQL initialization scripts in the /api folder (MySQL does not use a .db file)

Connection String: Store in appsettings.json for simplicity (e.g., "Server=localhost;Database=projectdb;User ID=root;Password=yourpassword;")

Database Schema Structure

The database consists of the following tables with their relationships:

Users Table

Primary Key: UserID (INT AUTO_INCREMENT)

Columns: Email (VARCHAR(255) UNIQUE NOT NULL), Password (VARCHAR(255) NOT NULL), FirstName (VARCHAR(100) NOT NULL), LastName (VARCHAR(100) NOT NULL), Birthday (DATE NOT NULL), UserType (VARCHAR(20) NOT NULL, CHECK: 'Client', 'Trainer', 'Admin'), IsDeleted (BOOLEAN DEFAULT 0), CreatedAt (TIMESTAMP DEFAULT CURRENT_TIMESTAMP)

Specialties Table

Primary Key: SpecialtyID (INT AUTO_INCREMENT)

Columns: SpecialtyName (VARCHAR(100) UNIQUE NOT NULL), Description (TEXT), IsDeleted (BOOLEAN DEFAULT 0), CreatedAt (TIMESTAMP DEFAULT CURRENT_TIMESTAMP)

Clients Table

Primary Key: ClientID (INT)

Foreign Key: ClientID REFERENCES Users(UserID) ON DELETE CASCADE ON UPDATE CASCADE

Columns: JoinDate (DATE NOT NULL), Phone (VARCHAR(20)), IsDeleted (BOOLEAN DEFAULT 0), CreatedAt (TIMESTAMP DEFAULT CURRENT_TIMESTAMP)

Trainers Table

Primary Key: TrainerID (INT)

Foreign Key: TrainerID REFERENCES Users(UserID) ON DELETE CASCADE ON UPDATE CASCADE

Columns: Certification (VARCHAR(255)), Phone (VARCHAR(20)), Rate (DECIMAL(10,2) NOT NULL), IsDeleted (BOOLEAN DEFAULT 0), CreatedAt (TIMESTAMP DEFAULT CURRENT_TIMESTAMP)

Admins Table

Primary Key: AdminID (INT)

Foreign Key: AdminID REFERENCES Users(UserID) ON DELETE CASCADE ON UPDATE CASCADE

Columns: IsDeleted (BOOLEAN DEFAULT 0), CreatedAt (TIMESTAMP DEFAULT CURRENT_TIMESTAMP)

Rooms Table

Primary Key: RoomID (INT AUTO_INCREMENT)

Columns: RoomNo (VARCHAR(20) UNIQUE NOT NULL), RoomName (VARCHAR(100) NOT NULL), IsDeleted (BOOLEAN DEFAULT 0), CreatedAt (TIMESTAMP DEFAULT CURRENT_TIMESTAMP)

TrainerSpecialties Table

Primary Key: Composite (TrainerID, SpecialtyID)

Foreign Keys: TrainerID REFERENCES Trainers(TrainerID) ON DELETE CASCADE ON UPDATE CASCADE, SpecialtyID REFERENCES Specialties(SpecialtyID) ON DELETE CASCADE ON UPDATE CASCADE

Columns: IsDeleted (BOOLEAN DEFAULT 0), CreatedAt (TIMESTAMP DEFAULT CURRENT_TIMESTAMP)

RoomSpecialties Table

Primary Key: Composite (RoomID, SpecialtyID)

Foreign Keys: RoomID REFERENCES Rooms(RoomID) ON DELETE CASCADE ON UPDATE CASCADE, SpecialtyID REFERENCES Specialties(SpecialtyID) ON DELETE CASCADE ON UPDATE CASCADE

Columns: IsDeleted (BOOLEAN DEFAULT 0), CreatedAt (TIMESTAMP DEFAULT CURRENT_TIMESTAMP)

TrainerAvailability Table

Primary Key: AvailabilityID (INT AUTO_INCREMENT)

Foreign Keys: TrainerID REFERENCES Trainers(TrainerID) ON DELETE CASCADE ON UPDATE CASCADE, SpecialtyID REFERENCES Specialties(SpecialtyID) ON DELETE CASCADE ON UPDATE CASCADE

Columns: DayOfWeek (VARCHAR(10) NOT NULL, CHECK: 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'), StartTime (TIME NOT NULL), IsDeleted (BOOLEAN DEFAULT 0), CreatedAt (TIMESTAMP DEFAULT CURRENT_TIMESTAMP)

Constraint: UNIQUE (TrainerID, SpecialtyID, DayOfWeek, StartTime)

SessionBooking Table

Primary Key: SessionID (INT AUTO_INCREMENT)

Foreign Keys: TrainerID REFERENCES Trainers(TrainerID) ON DELETE CASCADE ON UPDATE CASCADE, ClientID REFERENCES Clients(ClientID) ON DELETE CASCADE ON UPDATE CASCADE, RoomID REFERENCES Rooms(RoomID) ON DELETE SET NULL ON UPDATE CASCADE, SpecialtyID REFERENCES Specialties(SpecialtyID) ON DELETE CASCADE ON UPDATE CASCADE, AvailabilityID REFERENCES TrainerAvailability(AvailabilityID) ON DELETE CASCADE ON UPDATE CASCADE

Columns: SessionDate (DATE NOT NULL), StartTime (TIME NOT NULL), Status (VARCHAR(20) NOT NULL DEFAULT 'Pending', CHECK: 'Pending', 'Confirmed', 'Completed', 'Cancelled'), IsCancelled (BOOLEAN DEFAULT 0), BookingDate (TIMESTAMP DEFAULT CURRENT_TIMESTAMP), Price (DECIMAL(10,2) NOT NULL), AvailabilityID (INT NOT NULL), IsDeleted (BOOLEAN DEFAULT 0), CreatedAt (TIMESTAMP DEFAULT CURRENT_TIMESTAMP)

SessionCancellations Table

Primary Key: CancellationID (INT AUTO_INCREMENT)

Foreign Keys: SessionID REFERENCES SessionBooking(SessionID) ON DELETE CASCADE ON UPDATE CASCADE, CancelledBy REFERENCES Users(UserID) ON DELETE SET NULL ON UPDATE CASCADE

Columns: SessionID (INT NOT NULL), CancellationReason (TEXT), CancelledBy (INT), CancelledAt (TIMESTAMP DEFAULT CURRENT_TIMESTAMP), IsDeleted (BOOLEAN DEFAULT 0), CreatedAt (TIMESTAMP DEFAULT CURRENT_TIMESTAMP)

Payments Table

Primary Key: PaymentID (INT AUTO_INCREMENT)

Foreign Keys: ClientID REFERENCES Clients(ClientID) ON DELETE CASCADE ON UPDATE CASCADE, SessionID REFERENCES SessionBooking(SessionID) ON DELETE CASCADE ON UPDATE CASCADE

Columns: Amount (DECIMAL(10,2) NOT NULL), Status (VARCHAR(20) NOT NULL DEFAULT 'Pending', CHECK: 'Pending', 'Completed', 'Failed'), TransactionDate (TIMESTAMP DEFAULT CURRENT_TIMESTAMP), SessionID (INT), IsDeleted (BOOLEAN DEFAULT 0), CreatedAt (TIMESTAMP DEFAULT CURRENT_TIMESTAMP)

Database Editing Restrictions

CRITICAL: Cursor is NOT allowed to edit anything about the database schema. This includes:

- Cannot modify table structures (ALTER TABLE, DROP TABLE, CREATE TABLE modifications)

- Cannot modify columns, data types, constraints, or foreign keys

- Cannot modify existing data unless explicitly requested for testing purposes

- Cannot delete any existing data or records that were not added by Cursor itself

Limited Testing Permissions

Cursor may only:

- Add temporary test data that must be deleted immediately after testing

- Delete only data that Cursor itself added (for cleanup after testing)

- These permissions are strictly for temporary testing purposes only

Project Structure Guidelines

Keep frontend and backend in separate folders/directories

Use clear naming conventions for files and folders

Follow .NET naming conventions for C# code (PascalCase for classes, camelCase for variables)

Use meaningful variable and function names in JavaScript

Development Practices

Write clean, readable code with appropriate comments

Use async/await for API calls in JavaScript

Implement proper error handling in both frontend and backend

Use Bootstrap's responsive design principles

Follow REST API best practices for the backend

Use proper HTTP status codes and error responses

File Organization

Frontend files: 'homepage.html', 'marketplace.html', 'fisher.html', 'admin.html'

Backend files: C# project files in a dedicated backend folder

Database: MySQL SQL setup scripts in the /api folder

Documentation: Keep any documentation files in the project root

Dependencies

Frontend: Only Bootstrap from CDN, no npm/node_modules

Backend: Use NuGet packages as needed for .NET dependencies

Database: using System.Data; using MySql.Data; using MySql.Data.MySqlClient; package for direct SQL access

Code Style

Use consistent indentation (2 spaces for HTML/CSS/JS, 4 spaces for C#)

Comment complex logic and API endpoints

Use meaningful commit messages

Keep functions and methods focused and single-purpose

Cursor Commands

Kill and start the API whenever affecting changes are made. Make sure to run command cd api before trying to start or kill.

API run command is dotnet run and API kill pkill "dotnet run" || true

To view project the .html path will be copied and pasted into a browser.

